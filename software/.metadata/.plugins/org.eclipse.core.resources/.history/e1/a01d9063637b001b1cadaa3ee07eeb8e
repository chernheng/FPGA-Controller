#include "sys/alt_stdio.h"
#include <unistd.h>

// Convenient way to get current state
enum dev_state{
		FILT_ON,
		FILT_OFF,
		COEFF_UPDATE
};

alt_u8 dev_state = FILT_OFF;

int main()
{ 
	alt_32 x_read;	// For some reason the driver expects a 32-bit value
	alt_up_accelerometer_spi_dev * acc_dev;
	acc_dev = alt_up_accelerometer_spi_open_dev("/dev/accelerometer_spi");
	if (acc_dev == NULL) { // if return 1, check if the spi ip name is "accelerometer_spi"
		alt_printf("No accelerometer device available\n");
		return 1;
	}

  /* Event loop never exits. */
  while (1){

  }

  return 0;
}


 /*
  * Todo:
  * - Read accelerometer data
  * - Pass it as bytes over UART
  * - Accept a state that
  */
